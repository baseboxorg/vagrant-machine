---
- name: Installing packages like curl, git, tree etc
  sudo: yes
  apt: pkg={{ item }} state=installed update_cache=yes
  with_items:
      - ack
      - curl
      - git
      - make
      - tree
      - nodejs
      - build-essential
      - libxslt-dev
      - libxml2-dev
      - imagemagick
      - libmagickcore-dev
      - libmagickwand-dev


- name: Installing rvm
  sudo: no
  shell: "curl -sSL https://get.rvm.io | bash"
  args:
    creates: /home/vagrant/.rvm/bin/rvm

- name: Installing ruby
  sudo: no
  shell: "/home/vagrant/.rvm/bin/rvm install ruby-2.1.2"
  args:
    creates: /home/vagrant/.rvm/rubies/ruby-2.1.2/bin/ruby

- name: Downloading phantomjs tar file
  sudo: no
  shell: "wget https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-1.9.7-linux-x86_64.tar.bz2"
  args:
    chdir: /home/vagrant
    creates: /home/vagrant/phantomjs-1.9.7-linux-x86_64.tar.bz2

- name: tar phantomjs
  sudo: no
  shell: "tar xjf /home/vagrant/phantomjs-1.9.7-linux-x86_64.tar.bz2"

- name: Installing phantomjs
  sudo: yes
  shell: "sudo ln -s /home/vagrant/phantomjs-1.9.7-linux-x86_64/bin/phantomjs /usr/local/share/phantomjs"
  args:
    creates: /usr/local/share/phantomjs

  shell: "sudo ln -s /home/vagrant/phantomjs-1.9.7-linux-x86_64/bin/phantomjs /usr/local/bin/phantomjs"
  args:
    creates: /usr/local/bin/phantomjs


  shell: "sudo ln -s /home/vagrant/phantomjs-1.9.7-linux-x86_64/bin/phantomjs /usr/bin/phantomjs"
  args:
    creates: /usr/bin/phantomjs


- name: Configuring git
  sudo: no
  shell: git config --global alias.co checkout
  shell: git config --global color.branch auto
  shell: git config --global color.diff auto
  shell: git config --global color.interactive auto
  shell: git config --global color.status auto
  shell: git config --global branch.autosetuprebase always
  shell: git config --global push.default current
  shell: git config --global core.mergeoptions --no-edit
